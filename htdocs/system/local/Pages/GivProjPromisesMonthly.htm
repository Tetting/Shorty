{#ajaxTemplate2#}<span component="protoHeader887" task="Project4.Task" class="GivProjPromisessBigIcon BigIcon TaskEdit4">M&aring;nadsl&ouml;fte</span>
<span class="EditIcons"><span class="NewIcon EditIcon">
        <a class="ajaxLink" href="Pages/GivProjNew?GiverId=(!&ns.GiverId!)">Nytt Givarprojekt</a>
    </span>
    <span class="ListIcon EditIcon">
        <a class="ajaxLink" href="Pages/Giver/(!&ns.GiverId!)" target="AppPages">Lista</a>
    </span>
</span>
(!@-!)if (ns.data) {
var r= ns.data;
(!@+!)

<table class="EditTable" >
<thead>
    <tr><th colspan="2"><span class="TaskEdit4" Task="Project4.Task" Component="GivProjPromisesEdit888">Löfte</span></th></tr>
    <col /><col />

    <tr><td><label>#:</label></td><td>(!&r.Id!)
</td>

    <tr><td><label>StartDt:</label></td><td>(!@-!)if(r.StartDt == '0000-00-00') {r.StartDt = '';}
(!@+!)<input class="Editable dateEdit" id="StartDt891(!&ns._ViewId!)" type="text"  onchange="EditInPlace4.quickSave('GivProjPromisess.StartDt','(!&r.Id!)',this.value)"  data-fieldName="GivProjPromises.StartDt" value="(!&r.StartDt!)" size="12"/>
<script>$j('#StartDt891(!&ns._ViewId!)').date_input();</script>
</td>

    <tr><td><label>KrMon:</label></td><td><span id="KrMon892(!&ns._ViewId!)" class="ajaxEdit3" dataView="GivProjPromisess.KrMon" dataPK="(!&r.Id!)" >(!&r['KrMon']||EditInPlace4.blank!)</span></td>

    <tr><td><label>Projekt#:</label></td><td><span id="ProjectId893(!&ns._ViewId!)" class="ajaxEdit3" dataView="GivProjPromisess.ProjectId" dataPK="(!&r.Id!)" >(!&r['ProjectId']||EditInPlace4.blank!)</span></td>

    <tr><td><label>Status:</label></td><td>
<select class="Editable" id="Status900(!&ns._ViewId!)" onchange="EditInPlace4.quickSave('GivProjPromisess.Status','(!&r.Id!)',this.value)">

<option value="Aktiv" (!@-!)if (r.Status=='Aktiv'){o.push('selected');}(!@+!)>Aktiv</option>

<option value="Inaktiv" (!@-!)if (r.Status=='Inaktiv'){o.push('selected');}(!@+!)>Inaktiv</option>

</select></td>

</table>

(!@-!)} else {
    //no data retrieved yet... load it..
    if(!ns.Id){ns.Id=ns.url.split("/").pop();}(!@+!)

<img src="img/ajaxLoading.gif"/>ladda...<script>
dataViews.GivProjPromisess.getRecord({
    Id:'(!&ns.Id!)'
    ,PK:'(!&ns.Id!)'
    ,OnComplete:function(Record){
        App3.Navigate2('(!&ns._fullurl!)',
            {target:'(!&ns.target!)',data:Record,Id:'(!&ns.Id!)' }
        );
    }
});
</script>
(!@-!)}(!@+!)

