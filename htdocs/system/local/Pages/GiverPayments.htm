{#ajaxTemplate2#}<span class="GiverPaymentsBigIcon BigIcon TaskEdit4" task="Project4.Task" component="protoHeader209">Givare Betalning</span> 

<span class="EditIcons"></span><br/>

(!@-!)
if ((ns.data)&&(!ns['forceRead'])) {(!@+!)

<span class="EditIcons"><span class="TaskEdit4" Task="Project4.Task" Component="PaymentList197"> </span>
(!@-!)
if (ns.Recordset) {
if (ns.Recordset.Hits ==0) {
out.push('<i>0 Poster');
} else {
out.push('<i>Post '+(ns.Recordset.start+1)+' till '+(ns.Recordset.Hits+ns.Recordset.start));
}
if (ns.Recordset.Count) {
if ((ns.DataView)&&(ns.DataView.filterActive==true)) {
//display filtered count..
out.push(' av '+ns.Recordset.filteredCount);
} else {
out.push(' av '+ns.Recordset.Count);
}
}
out.push('</i>');
}
(!@+!)

<a title="F&ouml;rsta" onclick="$j('#Prog(!&ns._ViewId!)').addClass('ajaxLoading');dataViews.GiverPayments.firstPage({OnComplete:function(data,Recordset,DataView){App3.Navigate2('(!&ns._fullurl!)',{target:'(!&ns.target!)',data:data,Recordset:Recordset,DataView:DataView});$j('#Prog(!&ns._ViewId!)').removeClass('ajaxLoading');},NoNewPage:function(){$j('#Prog(!&ns._ViewId!)').removeClass('ajaxLoading');}});"><span class="RecordsetFirstIcon EditIcon">&nb(!&'sp'!);</span></a>
<a title="F&ouml;reg&aring;nde" onclick="$j('#Prog(!&ns._ViewId!)').addClass('ajaxLoading');dataViews.GiverPayments.previousPage({OnComplete:function(data,Recordset,DataView){App3.Navigate2('(!&ns._fullurl!)',{target:'(!&ns.target!)',data:data,Recordset:Recordset,DataView:DataView});$j('#Prog(!&ns._ViewId!)').removeClass('ajaxLoading');},NoNewPage:function(){$j('#Prog(!&ns._ViewId!)').removeClass('ajaxLoading');}});"><span class="RecordsetPreviousIcon EditIcon">&nb(!&'sp'!);</span></a>
<a title="N&auml;sta" onclick="$j('#Prog(!&ns._ViewId!)').addClass('ajaxLoading');dataViews.GiverPayments.nextPage({OnComplete:function(data,Recordset,DataView){App3.Navigate2('(!&ns._fullurl!)',{target:'(!&ns.target!)',data:data,Recordset:Recordset,DataView:DataView});$j('#Prog(!&ns._ViewId!)').removeClass('ajaxLoading');},NoNewPage:function(){$j('#Prog(!&ns._ViewId!)').removeClass('ajaxLoading');}});"><span class="RecordsetNextIcon EditIcon">&nb(!&'sp'!);</span></a>
<a title="Sista" onclick="$j('#Prog(!&ns._ViewId!)').addClass('ajaxLoading');dataViews.GiverPayments.lastPage({OnComplete:function(data,Recordset,DataView){App3.Navigate2('(!&ns._fullurl!)',{target:'(!&ns.target!)',data:data,Recordset:Recordset,DataView:DataView});$j('#Prog(!&ns._ViewId!)').removeClass('ajaxLoading');},NoNewPage:function(){$j('#Prog(!&ns._ViewId!)').removeClass('ajaxLoading');}});"><span class="RecordsetLastIcon EditIcon">&nb(!&'sp'!);</span></a>

<input type="button" style="display:none" id="Filter_(!&ns._ViewId!)" onclick="
dataViews.GiverPayments.clearFilter();
dataViews.GiverPayments.addFilter('GiverId','=','(!&ns.GiverId!)');

dataViews.GiverPayments.addFilter('Id','*',document.getElementById('Filter_Id382(!&ns._ViewId!)').value);
dataViews.GiverPayments.addFilter('Date','*',document.getElementById('Filter_Date198(!&ns._ViewId!)').value);
dataViews.GiverPayments.addFilter('ProjectId','*',document.getElementById('Filter_ProjectId200(!&ns._ViewId!)').value);
dataViews.GiverPayments.addFilter('InKrTotal','*',document.getElementById('Filter_InKrTotal387(!&ns._ViewId!)').value);
dataViews.GiverPayments.addFilter('PaymentSource','*',document.getElementById('Filter_PaymentSource204(!&ns._ViewId!)').value);

dataViews.GiverPayments.getList({OnComplete:function(data,Recordset,DataView){App3.Navigate2('(!&ns._fullurl!)',{navTarget:'(!&ns.target!)',target:'(!&ns.target!)',data:data,Recordset:Recordset,DataView:DataView ,GiverId:'(!&ns.GiverId!)'});}});
"/>
<span id="Prog(!&ns._ViewId!)"></span>
</span>

<table class="ListTable" ><tr>

<th width="25" class="Col_Id382"><a class="SortColumn" onclick="
dataViews.GiverPayments.setSort('Id');
dataViews.GiverPayments.getList({OnComplete:function(data,Recordset,DataView){App3.Navigate2('(!&ns._fullurl!)',{navTarget:'(!&ns.target!)',target:'(!&ns.target!)',data:data,Recordset:Recordset,DataView:DataView ,GiverId:'(!&ns.GiverId!)'});}});"><u>#</u></a><span class="TaskEdit4" Task="Project4.Task" Component="Id382"> </span></th>

<th width="25" class="Col_Date198"><a class="SortColumn" onclick="
dataViews.GiverPayments.setSort('Date');
dataViews.GiverPayments.getList({OnComplete:function(data,Recordset,DataView){App3.Navigate2('(!&ns._fullurl!)',{navTarget:'(!&ns.target!)',target:'(!&ns.target!)',data:data,Recordset:Recordset,DataView:DataView ,GiverId:'(!&ns.GiverId!)'});}});"><u>Datum</u></a><span class="TaskEdit4" Task="Project4.Task" Component="Date198"> </span></th>

<th width="25" class="Col_ProjectId200"><a class="SortColumn" onclick="
dataViews.GiverPayments.setSort('ProjectId');
dataViews.GiverPayments.getList({OnComplete:function(data,Recordset,DataView){App3.Navigate2('(!&ns._fullurl!)',{navTarget:'(!&ns.target!)',target:'(!&ns.target!)',data:data,Recordset:Recordset,DataView:DataView ,GiverId:'(!&ns.GiverId!)'});}});"><u>Projekt</u></a><span class="TaskEdit4" Task="Project4.Task" Component="ProjectId200"> </span></th>

<th width="25" class="Col_InKrTotal387"><a class="SortColumn" onclick="
dataViews.GiverPayments.setSort('InKrTotal');
dataViews.GiverPayments.getList({OnComplete:function(data,Recordset,DataView){App3.Navigate2('(!&ns._fullurl!)',{navTarget:'(!&ns.target!)',target:'(!&ns.target!)',data:data,Recordset:Recordset,DataView:DataView ,GiverId:'(!&ns.GiverId!)'});}});"><u>Kr</u></a><span class="TaskEdit4" Task="Project4.Task" Component="InKrTotal387"> </span></th>

<th width="25" class="Col_PaymentSource204"><a class="SortColumn" onclick="
dataViews.GiverPayments.setSort('PaymentSource');
dataViews.GiverPayments.getList({OnComplete:function(data,Recordset,DataView){App3.Navigate2('(!&ns._fullurl!)',{navTarget:'(!&ns.target!)',target:'(!&ns.target!)',data:data,Recordset:Recordset,DataView:DataView ,GiverId:'(!&ns.GiverId!)'});}});"><u>Typ</u></a><span class="TaskEdit4" Task="Project4.Task" Component="PaymentSource204"> </span></th>

</tr><tr>

<td><input id="Filter_Id382(!&ns._ViewId!)" type="text" style="width:95%" value="(!@-!)out.push(dataViews.GiverPayments.getFilter('Id','*'));(!@+!)" onkeypress="var e = (event) ? event : window.event;char=(e.charCode)?e.charCode:e.keyCode;if(char==13){$j('#Filter_(!&ns._ViewId!)').click();}"/></td>

<td><input id="Filter_Date198(!&ns._ViewId!)" type="text" style="width:95%" value="(!@-!)out.push(dataViews.GiverPayments.getFilter('Date','*'));(!@+!)" onkeypress="var e = (event) ? event : window.event;char=(e.charCode)?e.charCode:e.keyCode;if(char==13){$j('#Filter_(!&ns._ViewId!)').click();}"/></td>

<td><input id="Filter_ProjectId200(!&ns._ViewId!)" type="text" style="width:95%" value="(!@-!)out.push(dataViews.GiverPayments.getFilter('ProjectId','*'));(!@+!)" onkeypress="var e = (event) ? event : window.event;char=(e.charCode)?e.charCode:e.keyCode;if(char==13){$j('#Filter_(!&ns._ViewId!)').click();}"/></td>

<td><input id="Filter_InKrTotal387(!&ns._ViewId!)" type="text" style="width:95%" value="(!@-!)out.push(dataViews.GiverPayments.getFilter('InKrTotal','*'));(!@+!)" onkeypress="var e = (event) ? event : window.event;char=(e.charCode)?e.charCode:e.keyCode;if(char==13){$j('#Filter_(!&ns._ViewId!)').click();}"/></td>

<td><input id="Filter_PaymentSource204(!&ns._ViewId!)" type="text" style="width:95%" value="(!@-!)out.push(dataViews.GiverPayments.getFilter('PaymentSource','*'));(!@+!)" onkeypress="var e = (event) ? event : window.event;char=(e.charCode)?e.charCode:e.keyCode;if(char==13){$j('#Filter_(!&ns._ViewId!)').click();}"/></td>

</tr>
(!@-!)
var r;

for(var ri=0;ri<ns.data.length;ri++) {
r = ns.data[ri];

(!@+!)
<tr >

<td ><a class=ajaxLink href=Pages/GiverPayment/(!&r.Id!)?GiverId=(!&r.GiverId!)>#</a></td>

<td >(!&r['Date']!)</td>

<td >(!@-!)switch(r['PaymentType']) {
case 'Project':(!@+!)<a href="Pages/Project/(!&r.ProjectId!)" class="ajaxLink" target=AppPages>(!&r.ProjectId!)</a>
(!@-!)break;
case 'Transfer':(!@+!)<a href="Pages/Project/(!&r.ProjectId!)" class="ajaxLink" target=AppPages>(!&r.ProjectId!)</a>
(!@-!)break;
case 'Fadderbarn':(!@+!)<a href="Pages/Fadderbarn/(!&r.PaymentTypeId!)" class="ajaxLink" target=AppPages>Fadderbarn (!&r.PaymentTypeId!)</a><br/>( <a class="ajaxLink" href="Pages/Project/(!&r.ProjectId!)" target=AppPages>Projekt (!&r.ProjectId!)</a>)
(!@-!)break;
case 'Error':(!@+!)<a href="Pages/Project/(!&r.ProjectId!)" target=AppPages>Error:(!&r.ProjectId!)</a>
(!@-!)break;
}(!@+!)
</td>

<td >(!@-!)out.push(dataConvert.toSEK(r['InKrTotal']))(!@+!)</td>

<td >(!&r['PaymentSource']!)</td>

</tr>
(!@-!)}
if (ns.data.length == 0) {//no rows code.(!@+!)
<tr><td colspan="16"><center>Ingen</center></td></tr>
(!@-!) } (!@+!)

</table>
(!@-!)} else {
//no data retrieved yet... load it..
(!@+!)<script>
dataViews.GiverPayments.getList({OnComplete:function(data,Recordset,DataView){App3.Navigate2("(!&ns._fullurl!)",{navTarget:'(!&ns.target!)',target:'(!&ns.target!)',data:data,Recordset:Recordset,DataView:DataView ,GiverId:'(!&ns.GiverId!)'});}});

</script><img src="img/ajaxLoading.gif"/>ladda...
(!@-!)}(!@+!)

