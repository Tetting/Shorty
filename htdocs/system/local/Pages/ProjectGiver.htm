{#ajaxTemplate2#}<span class="ProjectGiversBigIcon BigIcon TaskEdit4" task="Project4.Task" component="ProjectGiverProtoHeader">M&aring;natliga Projekt Givare </span> 

<span class="EditIcons">    <span class="ListIcon EditIcon">
        <a href="Pages/ProjectGivers" class="ajaxLink">Lista</a>
    </span>
</span><br/>

(!@-!)if (ns.data) {
var r= ns.data;
(!@+!)

<span class="EditIcon DeleteIcon" style="float:right">
    <a onclick="dataViews.ProjectGivers.deleteRecord({Id:'(!&r.Id!)',PK:'(!&r.Id!)',OnComplete:function(){App3.Navigate2('http://local/Pages/ProjectGivers',{target:'(!&ns.target!)' });}});">Ta Bort</a>
</span>

<table class="EditTable" >
<thead>
    <tr><th colspan="2"><span class="TaskEdit4" Task="Project4.Task" Component="ProjectGiverEdit_fields">Uppgifter</span></th></tr>
    <col /><col />

    <tr><td><label>#:</label></td><td>(!&r.Id!)
</td>

    <tr><td><label>Givare:</label></td><td>
<input type="hidden" id="ProjectGiver_GiverId_Edit(!&ns._ViewId!)" value="(!&r.GiverId!)" OnChange=""/>
<a style="cursor:pointer;" onclick="
if($j('#ProjectGiver_GiverId_EditPopUp(!&ns._ViewId!)_area').css('display')=='none') {
    $j('#ProjectGiver_GiverId_EditPopUp(!&ns._ViewId!)_area').show();
    App3.Navigate2('local/Pages/GiverSelect',{target:'ProjectGiver_GiverId_EditPopUp(!&ns._ViewId!)'});
} else {
    $j('#ProjectGiver_GiverId_EditPopUp(!&ns._ViewId!)_area').hide();
}"><span class="EditLink" id="ProjectGiver_GiverId_EditPopUp(!&ns._ViewId!)_display">(!&r.GiverId!)</span> <button>V&#228;lj</button></a>
<br/>
<div id="ProjectGiver_GiverId_EditPopUp(!&ns._ViewId!)_area" style="display:none;position:relative;" datapk="(!&r.Id!)" dataview="ProjectGivers.GiverId" datadisplay="ProjectGiver_GiverId_EditPopUp(!&ns._ViewId!)_display" datastoreid="ProjectGiver_GiverId_Edit(!&ns._ViewId!)"><div id="ProjectGiver_GiverId_EditPopUp(!&ns._ViewId!)" class="PopupSelect" style="position:absolute;background:#EEEEEE;">loading...</div></div>
</td>

    <tr><td><label>StartDt:</label></td><td>(!@-!)if(r.StartDt == '0000-00-00') {r.StartDt = '';}
(!@+!)<input class="Editable dateEdit" id="ProjectGiver_StartDt_Edit(!&ns._ViewId!)" type="text"  onchange="EditInPlace4.quickSave('ProjectGivers.StartDt','(!&r.Id!)',this.value)"  data-fieldName="ProjectGiver.StartDt" value="(!&r.StartDt!)" size="12"/>
<script>$j('#ProjectGiver_StartDt_Edit(!&ns._ViewId!)').date_input();</script>
</td>

    <tr><td><label>KrMon:</label></td><td><span id="ProjectGiver_KrMon_Edit(!&ns._ViewId!)" class="ajaxEdit3" dataView="ProjectGivers.KrMon" dataPK="(!&r.Id!)" >(!&r['KrMon']||EditInPlace4.blank!)</span></td>

    <tr><td><label>Projekt#:</label></td><td>
<input type="hidden" id="ProjectGiver_ProjectId_Edit(!&ns._ViewId!)" value="(!&r.ProjectId!)" OnChange=""/>
<a style="cursor:pointer;" onclick="
if($j('#ProjectGiver_ProjectId_EditPopUp(!&ns._ViewId!)_area').css('display')=='none') {
    $j('#ProjectGiver_ProjectId_EditPopUp(!&ns._ViewId!)_area').show();
    App3.Navigate2('local/Pages/ProjectSelect',{target:'ProjectGiver_ProjectId_EditPopUp(!&ns._ViewId!)'});
} else {
    $j('#ProjectGiver_ProjectId_EditPopUp(!&ns._ViewId!)_area').hide();
}"><span class="EditLink" id="ProjectGiver_ProjectId_EditPopUp(!&ns._ViewId!)_display">(!&r.ProjectId!)</span> <button>V&#228;lj</button></a>
<br/>
<div id="ProjectGiver_ProjectId_EditPopUp(!&ns._ViewId!)_area" style="display:none;position:relative;" datapk="(!&r.Id!)" dataview="ProjectGivers.ProjectId" datadisplay="ProjectGiver_ProjectId_EditPopUp(!&ns._ViewId!)_display" datastoreid="ProjectGiver_ProjectId_Edit(!&ns._ViewId!)"><div id="ProjectGiver_ProjectId_EditPopUp(!&ns._ViewId!)" class="PopupSelect" style="position:absolute;background:#EEEEEE;">loading...</div></div>
</td>

</table>

(!@-!)} else {
    //no data retrieved yet... load it..
    if(!ns.Id){ns.Id=ns.url.split("/").pop();}(!@+!)

<img src="img/ajaxLoading.gif"/>ladda...<script>
dataViews.ProjectGivers.getRecord({
    Id:'(!&ns.Id!)'
    ,PK:'(!&ns.Id!)'
    ,OnComplete:function(Record){
        App3.Navigate2('(!&ns._fullurl!)',
            {target:'(!&ns.target!)',data:Record,Id:'(!&ns.Id!)' }
        );
    }
});
</script>
(!@-!)}(!@+!)

